paths:
  raw_dir: data/braintumour
  processed_dir: data/processed
  labels_csv: data/labels/labels.csv
  outputs_dir: outputs/
  models_dir: outputs/models
  figures_dir: outputs/figures
  tables_dir: outputs/tables
  run_id: beta_vae_se

data:
  image_size: 128
  grayscale: true
  class_mode: multiclass
  train_subdir: train
  test_subdir: test
  seed: 115

model:
  latent_dim: 64
  base_channels: 64
  num_blocks: 4
  beta: 1.0
  se_reduction_ratio: 8
  encoder_norm: layer
  activation: relu
  reconstruction_loss: mse
  use_decoder_se: true
  deterministic_overfit: false
  latent_reg_lambda: 0.0
  encoder_pooling: flatten
  latent_clamp: null
  logvar_clamp: [-10, 5]

loss:
  objective: beta_vae
  free_bits: 0.0
  capacity_weight: 1.0
  capacity_schedule:
    enabled: true
    C_start: 30.0
    C_end: 128.0
    warmup_epochs: 30
    total_epochs: 100
  use_lpips: false
  use_ffl: true
  lpips_weight: 5.0
  lpips_net: alex
  ffl_weight: 0.5
  ffl_alpha: 1.0

beta_schedule:
  type: constant
  start_beta: 1.0
  end_beta: 1.0
  warmup_epochs: 20
  cycle_length: 0

training:
  epochs: 100
  batch_size: 32
  grad_clip: 3.0
  mixed_precision: true
  num_workers: 4
  pin_memory: true

optimization:
  optimizer: adam
  lr: 0.0005
  weight_decay: 0.0
  scheduler: cosine
  warmup_epochs: 5

augmentation:
  horizontal_flip: true
  rotation_degrees: 10
  brightness: 0.1
  use_augmentations: true

evaluation:
  num_umap_samples: 200
  traversal_steps: 7
  reconstruction_metrics: [mse, psnr, ssim]
  cluster_metrics: []
  probe_train_split: 0.3

inference:
  sample_grid_size: 8
  traversal_latent_indices: []
  tumor_latent_index: null
  edit_span: 3.0
  edit_steps: 5

logging:
  log_level: info
  log_to_file: true
  log_every_n_steps: 5

experiment:
  tag: baseline
  notes: beta-VAE with SE blocks

debug:
  enabled: false
  train_samples: 32
  test_samples: 16
  max_train_batches: 10
  max_val_batches: 10
  epochs: 5
  fixed_recon_paths: []
